APPLICATION = tracefd

# Compatible boards: native, nucleo-f446re
BOARD ?= nucleo-f446re

USEMODULE += tracefd

TRACEFD_SDCARD_SPI_DEV = 0

ifneq ($(CPU),native)
	CFLAGS += "-DTRACEFD_SDCARD_SPI_DEV=${TRACEFD_SDCARD_SPI_DEV}"
	CFLAGS += "-DSD_CARD_SPI_MODE=SPI_MODE_3"
	CFLAGS += "-DSDCARD_SPI_PARAM_SPI=SPI_DEV(${TRACEFD_SDCARD_SPI_DEV})"
	CFLAGS += "-DSDCARD_SPI_PARAM_CS=GPIO_PIN(PORT_A, 8)"
	CFLAGS += "-DSDCARD_SPI_PARAM_CLK=GPIO_PIN(PORT_B, 3)"
	CFLAGS += "-DSDCARD_SPI_PARAM_MOSI=GPIO_PIN(PORT_B, 5)"
	CFLAGS += "-DSDCARD_SPI_PARAM_MISO=GPIO_PIN(PORT_B, 4)"
endif

include ../../Makefile.include
